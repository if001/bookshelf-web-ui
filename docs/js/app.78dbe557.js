(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],h=0,f=[];h<s.length;h++)i=s[h],a[i]&&f.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("cd49")},"0cf8":function(t,e,o){"use strict";var n=o("56a5"),a=o.n(n);a.a},"3b1a":function(t,e,o){},"3cd2":function(t,e,o){"use strict";var n=o("45c2"),a=o.n(n);a.a},"45c2":function(t,e,o){},4678:function(t,e,o){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return o(e)}function r(t){var e=n[t];if(!(e+1)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return e}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="4678"},"4a40":function(t,e,o){},5538:function(t,e,o){"use strict";var n=o("4a40"),a=o.n(n);a.a},5555:function(t,e,o){"use strict";var n=o("3b1a"),a=o.n(n);a.a},"56a5":function(t,e,o){},"765e":function(t,e,o){},"79df":function(t,e,o){"use strict";var n=o("f6ff"),a=o.n(n);a.a},"7bbd":function(t,e,o){},"7fed":function(t,e,o){t.exports=o.p+"img/btn_google.56f00e35.png"},"921c":function(t,e,o){},"9f1e":function(t,e,o){},a039:function(t,e,o){"use strict";var n=o("921c"),a=o.n(n);a.a},a72e:function(t,e,o){"use strict";var n=o("e426"),a=o.n(n);a.a},c358:function(t,e,o){"use strict";var n=o("765e"),a=o.n(n);a.a},cd49:function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],i=o("2877"),s={},l=Object(i["a"])(s,a,r,!1,null,null,null),c=l.exports,u=o("8c4f"),h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-container",{class:{xs_height:t.$vuetify.breakpoint.xs}},[o("v-layout",{attrs:{row:"",nowrap:"","justify-center":""}},[o("v-flex",{attrs:{md12:""}},[o("v-tabs",{attrs:{"fixed-tabs":"",color:"#fafafa"}},t._l(t.filterObject,function(e){return o("v-tab",{key:e.displayName,on:{change:function(o){return t.changeFilter(e.filterKey)}}},[t._v("\n                        "+t._s(e.displayName)+"\n                    ")])}),1)],1)],1),o("v-layout",{attrs:{row:"",nowrap:"","justify-center":""}},[o("v-flex",{staticClass:"ma-3",attrs:{lg8:"",md8:"",sm8:"",xs8:""}},[o("v-text-field",{attrs:{flat:"",label:"Search","append-icon":"search"},on:{"click:append":t.search}})],1),o("v-flex",{staticClass:"ma-3",attrs:{lg4:"",md4:"",sm4:"",xs4:""}},[o("v-select",{attrs:{items:t.sortObject,"item-text":"displayName","item-value":"sortKey","append-icon":"sort",label:"Sort"},on:{change:function(e){return t.changeSort()}},model:{value:t.selectSortKey,callback:function(e){t.selectSortKey=e},expression:"selectSortKey"}})],1)],1),o("v-layout",{attrs:{row:"",wrap:"","justify-start":""}},[t.loading?o("div",{staticStyle:{margin:"auto"}},[o("div",{staticStyle:{display:"inline-block","padding-right":"15px"}},[t._v("loading...")]),o("div",{staticClass:"loading loading-content"},[o("v-icon",{attrs:{large:""}},[t._v("fa-book")])],1)]):t._e(),t.loading||0!==t.booksShow.length?t._l(t.booksShow,function(e){return o("v-flex",{key:e.id,staticClass:"pa-2",attrs:{lg4:"",md6:"",sm12:"",xs12:""}},[o("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var a=n.hover;return o("v-card",{class:"elevation-"+(a?12:2),attrs:{to:{name:"bookDetail",params:{bookId:e.id}}}},[o("v-layout",{staticClass:"font-weight-light font title pt-2 pl-3 pr-2 pb-0",attrs:{row:""}},[o("v-flex",{attrs:{"align-self-center":""}},[t._v(t._s(e.title))]),o("v-btn",{staticClass:"ma-0",attrs:{flat:"",icon:"",color:"dark"}},[o("v-icon",{attrs:{large:"",color:"blue-grey darken-1"}},[t._v(t._s(t.bookState(e.start_at,e.end_at).icon)+"\n                                ")])],1)],1),o("v-layout",{staticClass:"pt-0 pl-4 pr-2 pb-2",attrs:{row:""}},[o("v-flex",{class:{noset_font:null==e.author},attrs:{"align-self-center":""}},[t._v("\n                                "+t._s(null!=e.author?e.author.name:"not set")+"\n                                ("+t._s(null!=e.publisher?e.publisher.name:"not set")+")\n                            ")])],1)],1)}}],null,!0)})],1)}):o("div",{staticStyle:{margin:"auto",padding:"20px"}},[t._v("\n                読みたい本を登録しましょう。\n            ")])],2),o("v-layout",{attrs:{row:"",nowrap:"","justify-center":""}},[o("v-flex",{staticClass:"mt-2 mb-5 text-xs-center",attrs:{md12:""}},[o("v-pagination",{attrs:{length:t.totalPageNumber,"total-visible":7,color:"#1e90ff"},on:{input:function(e){return t.pagenaite()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1),o("v-btn",{attrs:{fab:"",bottom:"",right:"",color:"pink",dark:"",fixed:""},on:{click:function(e){return t.toRegister()}}},[o("v-icon",[t._v("add")])],1)],1)],1)},f=[],d=o("9ab4"),p=o("60a3"),m=o("bc3a"),b=o.n(m),v=b.a.create({baseURL:"http://127.0.0.1:8081"});function g(){var t=localStorage.getItem("token");return null!==t?t:""}var k={book:{get:function(t){return v.request({method:"GET",url:"/book/"+t,headers:{Authorization:"Bearer "+g()}})},startRead:function(t){return v.request({method:"PUT",url:"/book/"+t+"/state/start",headers:{"Content-Type":"application/json",Authorization:"Bearer "+g()}})},endRead:function(t){return v.request({method:"PUT",url:"/book/"+t+"/state/end",headers:{"Content-Type":"application/json",Authorization:"Bearer "+g()}})},delete:function(t){return v.request({method:"DELETE",url:"/book/"+t,headers:{Authorization:"Bearer "+g()}})}},books:{list:function(t,e,o,n){var a={};return null!=t&&null!=e&&(a.page=t,a.per_page=e),null!=o&&(a.sort_key=o),null!=n&&(a.status=n),v.request({method:"GET",headers:{Authorization:"Bearer "+g()},url:"/books",params:a})},create:function(t){return v({method:"POST",headers:{Authorization:"Bearer "+g()},url:"/books",data:t})},update:function(t){return v({method:"PUT",headers:{Authorization:"Bearer "+g()},url:"/books",data:t})}},description:{get:function(t){return v.request({method:"GET",url:"/book/"+t+"/description",headers:{Authorization:"Bearer "+g()}})},create:function(t,e){return v.request({method:"POST",url:"/book/"+t+"/description",headers:{Authorization:"Bearer "+g()},data:e})},delete:function(t){return v.request({method:"DELETE",url:"/description/"+t,headers:{Authorization:"Bearer "+g()}})}},author:{getCounted:function(){return v.request({method:"GET",url:"/counted_authors",headers:{Authorization:"Bearer "+g()}})},create:function(t){return v.request({method:"POST",url:"/author",headers:{Authorization:"Bearer "+g()},data:t})}},publisher:{getCounted:function(){return v.request({method:"GET",url:"/counted_publisher",headers:{Authorization:"Bearer "+g()}})},create:function(t){return v.request({method:"POST",url:"/publisher",headers:{Authorization:"Bearer "+g()},data:t})}},rakuten:{searchByTitle:function(t,e,o){return b.a.get(y+"?applicationId="+_+"&affiliateId="+x+"&page="+e+"&hits="+o+"&title="+t)},searchByAuthor:function(t,e,o){return b.a.get(y+"?applicationId="+_+"&affiliateId="+x+"&page="+e+"&hits="+o+"&author="+t)}}},y="https://app.rakuten.co.jp/services/api/BooksBook/Search/20170404",_="1035362638897131844",x="188fe732.33eb93bf.188fe733.aaced19b",j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.booksShow=[],e.books=[],e.totalCount=0,e.page=1,e.perPage=16,e.loading=!0,e.createModalIsOpen=!1,e.sortObject=[{sortKey:"updated_at",displayName:"更新日"},{sortKey:"created_at",displayName:"作成日"},{sortKey:"title",displayName:"タイトル"},{sortKey:"author_id",displayName:"作者"},{sortKey:"publisher_id",displayName:"出版社"}],e.selectSortKey="",e.filterObject=[{filterKey:null,displayName:"ALL"},{filterKey:"not_read",displayName:"未読"},{filterKey:"reading",displayName:"読中"},{filterKey:"read",displayName:"読了"}],e.selectFilter=null,e}return d["__extends"](e,t),e.prototype.mounted=function(){this.load(this.page,this.perPage,this.selectSortKey,this.selectFilter),w()},e.prototype.load=function(t,e,o,n){var a=this;this.booksShow=[],this.loading=!0,k.books.list(t,e,o,n).then(function(t){a.books=t.data.content.books,a.totalCount=t.data.content.total_count}).then(function(){a.booksShow=a.books.map(function(t){return{id:t.id,title:t.title,author:t.author,publishedAt:t.publishedAt,accountId:t.accountId,publisher:t.publisher,start_at:t.start_at,end_at:t.end_at,nextBookId:t.nextBookId,prevBookId:t.prevBookId,categories:t.categories,created_at:t.created_at,updated_at:t.updated_at,isOpen:!1}}),a.loading=!1}).catch(function(t){console.log("/books api error"),a.loading=!1,a.$router.push("/login")})},e.prototype.closeCreate=function(){this.createModalIsOpen=!1,this.selectSortKey="created_at",this.load(this.page,this.perPage,this.selectSortKey,null)},e.prototype.search=function(){console.log("search")},e.prototype.bookState=function(t,e){return null==e&&null==t?{icon:"fa-book",label:"未読"}:null==e?{icon:"bookmark",label:"読中"}:{icon:"done",label:"了読"}},e.prototype.changeSort=function(){this.page=1,this.load(this.page,this.perPage,this.selectSortKey,this.selectFilter)},e.prototype.changeFilter=function(t){this.selectFilter=t,this.page=1,this.load(this.page,this.perPage,this.selectSortKey,this.selectFilter),w()},e.prototype.pagenaite=function(){this.load(this.page,this.perPage,this.selectSortKey,this.selectFilter),w()},Object.defineProperty(e.prototype,"totalPageNumber",{get:function(){return Math.floor(this.totalCount/this.perPage)+1},enumerable:!0,configurable:!0}),e.prototype.toRegister=function(){this.$router.push("/register")},e=d["__decorate"]([p["a"]],e),e}(p["d"]),S=j;function w(){window.scrollTo(0,0)}var B=S,C=(o("a039"),Object(i["a"])(B,h,f,!1,null,"1ec6eae5",null)),I=C.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{light:"",color:"#fafafa"}},[o("v-header"),o("div",{staticStyle:{"padding-top":"50px"}},[o("router-view")],1),o("v-footer")],1)},A=[],D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-toolbar",{attrs:{fixed:"",color:"blue accent-2",dark:"","scroll-off-screen":t.$vuetify.breakpoint.xs,"scroll-threshold":40,height:"50"}},[o("div",{staticStyle:{"font-weight":"400"}},[o("router-link",{staticClass:"title",attrs:{to:{name:"booksView"}}},[t._v(t._s(t.title))])],1),o("v-spacer"),t.$vuetify.breakpoint.xs?o("v-btn",{staticStyle:{color:"white"},attrs:{icon:"",flat:"",color:"dark",right:""},on:{click:t.logout}},[o("v-icon",[t._v("exit_to_app")])],1):o("v-btn",{staticStyle:{color:"white"},attrs:{flat:"",color:"dark",small:"",right:""},on:{click:t.logout}},[o("div",{staticStyle:{"margin-right":"5px"}},[t._v("Logout")]),o("v-icon",{staticStyle:{color:"white"},attrs:{small:""}},[t._v("exit_to_app")])],1)],1)},O=[],N=o("2f62");n["default"].use(N["a"]);var T=new N["a"].Store({state:{isLogin:!1,token:""},mutations:{login:function(t){t.isLogin=!0},logout:function(t){t.isLogin=!1},setToken:function(t,e){t.token=e},removeToken:function(t){t.token=""}},getters:{loginStatus:function(t){return t.isLogin},getToken:function(t){return console.log(t.token),t.token}},actions:{login:function(t){var e=t.commit;e("login")},logout:function(t){var e=t.commit;e("logout")},setToken:function(t,e){var o=t.commit;o("setToken",e)},removeToken:function(t){var e=t.commit;e("setToken")}}}),F=o("59ca"),E=o.n(F),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="BookStorage",e}return d["__extends"](e,t),e.prototype.logout=function(){var t=this;T.dispatch("removeToken").then(function(){E.a.auth().signOut().then(function(){localStorage.clear(),t.$router.push("/login")}).catch(function(){console.log("firebase sign out error")})}).catch(function(){console.log("vuex remove token error")})},e.prototype.search=function(){console.log("search!!")},e=d["__decorate"]([p["a"]],e),e}(p["d"]),L=M,z=L,R=(o("5538"),Object(i["a"])(z,D,O,!1,null,"4d021aeb",null)),$=R.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{footer_main:!t.$vuetify.breakpoint.xs,footer_main_sx:t.$vuetify.breakpoint.xs}},[o("div",{staticStyle:{color:"lightgrey",margin:"auto"}},[o("router-link",{staticClass:"policy",attrs:{to:"/policy"}},[t._v("privacy policy")]),o("span",{staticClass:"vertical-line"},[t._v("|")]),t._v("\n            ver. 1.0.0\n            "),o("span",{staticClass:"vertical-line"},[t._v("|")]),t._v("\n            ©2019 "),o("strong",[t._v("edgwbs.net")])],1)])},U=[],W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d["__extends"](e,t),e=d["__decorate"]([p["a"]],e),e}(p["d"]),K=W,G=K,V=(o("f146"),Object(i["a"])(G,q,U,!1,null,"b593611e",null)),Y=V.exports,H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d["__extends"](e,t),e=d["__decorate"]([Object(p["a"])({components:{"books-view":I,"v-header":$,"v-footer":Y}})],e),e}(p["d"]),J=H,Q=J,X=Object(i["a"])(Q,P,A,!1,null,"5756106e",null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{light:""}},[n("v-container",{attrs:{"text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[n("div",{staticClass:"login-title"},[t._v("\n                    Manage Your Book!\n                ")])]),n("v-flex",{attrs:{lg6:"",md6:"",sm6:"",xs12:"","offset-lg3":"","offset-md3":"","offset-sm3":""}},[t.alert?n("v-alert",{attrs:{dismissible:"",color:"error",icon:"warning",outline:""},on:{click:function(e){t.alert=!1}},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n                    "+t._s(t.message)+"\n                ")]):t._e()],1),n("v-flex",{attrs:{lg4:"",md4:"",sm4:"",xs10:"","offset-lg4":"","offset-md4":"","offset-sm4":"","offset-xs1":""}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{label:"Email",rules:t.emailRules,"prepend-icon":"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",type:t.showPassword?"text":"password",rules:t.passRules,"append-icon":t.showPassword?"visibility":"visibility_off","prepend-icon":"lock",required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-btn",{attrs:{loading:t.isLoading,block:"",color:"#1E90FF",dark:""},on:{click:t.login}},[t._v("\n                    Login\n                ")])],1),n("v-flex",{attrs:{lg12:"",md12:"",sm12:"",xs12:""}},[n("div",{staticClass:"create-account-link pa-2"},[n("router-link",{attrs:{to:"/reset_password"}},[t._v("Forgot Password?")])],1)]),n("v-flex",{attrs:{lg12:"",md12:"",sm12:"",xs12:""}},[n("div",{staticClass:"create-account-link pa-2"},[t._v("\n                    Don't have an account?\n                    "),n("router-link",{attrs:{to:"/signup"}},[t._v("Create account")])],1)]),n("v-flex",{attrs:{lg8:"",md8:"",sm8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[n("v-btn",{attrs:{fab:"",color:"gray",disabled:""}},[t._v("\n                    or\n                ")])],1),n("v-flex",{attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[n("div",{staticClass:"pa-3"},[n("img",{staticClass:"google-login",attrs:{src:o("7fed")},on:{click:t.loginWithGoogle}})])])],1)],1),n("v-footer")],1)},et=[],ot=(o("ea7b"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.email="",e.password="",e.valid=!1,e.showPassword=!1,e.message="",e.isLoading=!1,e.alert=!1,e.passRules=[function(t){return!!t||"Name is required"}],e.emailRules=[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],e}return d["__extends"](e,t),e.prototype.mounted=function(){window.scrollTo(0,0)},e.prototype.login=function(){this.validateInput()&&this.loginOps(E.a.auth().signInWithEmailAndPassword(this.email,this.password))},e.prototype.loginWithGoogle=function(){var t=new E.a.auth.GoogleAuthProvider;this.loginOps(E.a.auth().signInWithPopup(t))},e.prototype.loginOps=function(t){var e=this;this.isLoading=!0,t.then(function(t){if(null==t.user)return e.message="メールアドレスかパスワードが間違っています。",void(e.alert=!0);t.user.getIdToken().then(function(t){localStorage.setItem("token",t.toString()),e.$router.push("/bookshelf")}).catch(function(t){console.log("firebase get token error")})}).catch(function(t){e.message="メールアドレスかパスワードが間違っています。",e.alert=!0}).finally(function(){e.isLoading=!1})},e.prototype.validateInput=function(){return this.$refs.form.validate()},e=d["__decorate"]([Object(p["a"])({components:{"v-footer":Y}})],e),e}(p["d"])),nt=ot,at=nt,rt=(o("3cd2"),Object(i["a"])(at,tt,et,!1,null,"c9a1c166",null)),it=rt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{light:""}},[n("v-container",{attrs:{"text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[n("div",{staticClass:"login-title"},[t._v("\n                    Create New Account\n                ")])]),n("v-flex",{attrs:{lg4:"",md4:"",sm4:"",xs10:"","offset-lg4":"","offset-md4":"","offset-sm4":"","offset-xs1":""}},[n("v-form",{attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{label:"Email",rules:t.emailRules,"prepend-icon":"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",type:"password",rules:t.passRules,"prepend-icon":"lock",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-btn",{attrs:{block:"",color:"#ee82ee",dark:""},on:{click:t.create}},[t._v("\n                    sign up\n                ")]),n("div",{staticClass:"warning-font"},[t._v(t._s(t.message))])],1),n("v-flex",{attrs:{lg12:"",md12:"",sm12:"",xs12:""}},[n("div",{staticClass:"create-account-link pa-3"},[t._v("\n                    Already have an account?\n                    "),n("router-link",{attrs:{to:"/login"}},[t._v("Log in here")])],1)]),n("v-flex",{attrs:{lg8:"",md8:"",sm8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[n("v-btn",{attrs:{fab:"",color:"gray",disabled:""}},[t._v("\n                    or\n                ")])],1),n("v-flex",{attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[n("div",{staticClass:"pa-3"},[n("img",{staticClass:"google-login",attrs:{src:o("7fed")},on:{click:t.loginWithGoogle}})])])],1)],1),n("v-footer")],1)},lt=[],ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.email="",e.password="",e.valid=!1,e.passRules=[function(t){return!!t||"Name is required"}],e.emailRules=[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],e.message="",e}return d["__extends"](e,t),e.prototype.mounted=function(){window.scrollTo(0,0)},e.prototype.create=function(){var t=this;E.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){null!=e&&null!=e.user&&e.user.getIdToken().then(function(e){localStorage.setItem("token",e.toString()),t.$router.push("/bookshelf")}).catch(function(t){console.log("firebase get token error")})}).catch(function(e){t.message="アカウントの作成に失敗しました。"})},e.prototype.loginWithGoogle=function(){var t=new E.a.auth.GoogleAuthProvider;this.loginOps(E.a.auth().signInWithPopup(t))},e.prototype.loginOps=function(t){var e=this;t.then(function(t){null!=t&&null!=t.user&&t.user.getIdToken().then(function(t){localStorage.setItem("token",t.toString()),e.$router.push("/bookshelf")}).catch(function(t){console.log("firebase get token error")})}).catch(function(t){e.message="メールアドレスかパスワードが間違っています。"})},e=d["__decorate"]([Object(p["a"])({components:{"v-footer":Y}})],e),e}(p["d"]),ut=ct,ht=ut,ft=(o("c358"),Object(i["a"])(ht,st,lt,!1,null,"eec3c984",null)),dt=ft.exports,pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{light:""}},[o("v-container",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[o("div",{staticClass:"login-title"},[t._v("\n                    For got your Password?\n                ")])]),o("v-flex",{attrs:{lg4:"",md4:"",sm4:"",xs10:"","offset-lg4":"","offset-md4":"","offset-sm4":"","offset-xs1":""}},[o("div",{staticStyle:{"text-align":"center"}},[t._v("Send email to reset your password.")]),o("v-form",{attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-text-field",{attrs:{label:"Email",rules:t.emailRules,"prepend-icon":"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("v-btn",{attrs:{block:"",color:"#dc143c",dark:""},on:{click:t.resetPassword}},[t._v("\n                    Reset Password\n                ")]),o("div",{staticClass:"warning-font"},[t._v(t._s(t.message))])],1),o("v-flex",{attrs:{lg12:"",md12:"",sm12:"",xs12:""}},[o("div",{staticClass:"create-account-link pa-3"},[t._v("\n                    Already have an account?\n                    "),o("router-link",{attrs:{to:"/login"}},[t._v("Log in here")])],1)])],1)],1),o("v-footer")],1)},mt=[],bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.email="",e.valid=!1,e.emailRules=[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],e.message="",e}return d["__extends"](e,t),e.prototype.resetPassword=function(){var t=this;E.a.auth().sendPasswordResetEmail(this.email).then(function(e){var o=confirm("ご登録のメールアドレスに再設定のリンクを送付いたしました。");o&&t.$router.replace("/login")}).catch(function(e){t.message="ご登録のアドレスがございません。再度メールアドレスのご確認をお願いします。"})},e=d["__decorate"]([Object(p["a"])({components:{"v-footer":Y}})],e),e}(p["d"]),vt=bt,gt=vt,kt=(o("5555"),Object(i["a"])(gt,pt,mt,!1,null,"14af635a",null)),yt=kt.exports,_t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{light:""}},[o("v-container",{attrs:{"text-xs-center":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[t._t("header",[o("h2",[t._v("本の登録")])])],2)],1),o("v-layout",{attrs:{row:"",nowrap:"","justify-center":""}},[o("v-flex",{attrs:{md12:""}},[o("v-tabs",{attrs:{"fixed-tabs":"",color:"#fafafa"},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},t._l(t.tabObject,function(e){return o("v-tab",{key:e.displayName,on:{change:function(o){return t.changeTab(e.tag)}}},[t._v("\n                            "+t._s(e.displayName)+"\n                        ")])}),1)],1)],1),t.isSearchWeb?o("v-layout",{attrs:{row:"",wrap:""}},[o("SearchComponent",{on:{select:t.searchSelect}})],1):o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"pa-2",attrs:{lg8:"",md8:"",sm8:"",xs8:"","offset-lg2":"","offset-md2":"","offset-sm2":"","offset-xs2":""}},[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.validInputForm,callback:function(e){t.validInputForm=e},expression:"validInputForm"}},[o("div",{staticClass:"pl-2 pb-2"},[o("v-text-field",{attrs:{counter:40,maxlength:"40",label:"title",required:""},on:{blur:t.setFirstFocus},model:{value:t.bookName,callback:function(e){t.bookName=e},expression:"bookName"}})],1),o("div",{staticClass:"pl-2 pb-2"},[o("v-combobox",{attrs:{items:t.getAuthors,maxlength:"40",counter:40,height:"40px;",label:"author"},model:{value:t.authorName,callback:function(e){t.authorName=e},expression:"authorName"}})],1),o("div",{staticClass:"pl-2 pb-2"},[o("v-combobox",{attrs:{items:t.getPublishers,maxlength:"40",counter:40,height:"40px;",label:"publisher"},model:{value:t.publisherName,callback:function(e){t.publisherName=e},expression:"publisherName"}})],1)]),o("div",{staticClass:"pl-2 pb-2"},[o("img",{staticStyle:{float:"right"},attrs:{src:t.mediumBookImage,height:null!=t.mediumBookImage&&""!==t.mediumBookImage?"120px;":"0"}})])],1),o("v-flex",{attrs:{lg6:"",md6:"",sm6:"",xs6:""}},[o("v-btn",{attrs:{small:"",outline:"",color:"black",right:""},on:{click:function(e){return t.closeRegister()}}},[t._v("CLOSE\n                ")])],1),o("v-flex",{attrs:{lg6:"",md6:"",sm6:"",xs6:""}},[o("v-btn",{attrs:{small:"",color:"success",outline:"",left:"",loading:t.isSaving},on:{click:function(e){return t.createBookWithDetail()}}},[t._v("SAVE\n                    "),o("v-icon",{staticClass:"ml-2",attrs:{small:"",color:"green"}},[t._v("done")])],1)],1)],1)],1)],1)},xt=[],jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticStyle:{"min-height":"600px"}},[o("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[o("v-flex",{staticClass:"pa-2",attrs:{lg8:"",md8:"",sm12:"",xs12:"","offset-lg2":"","offset-md2":""}},[o("v-form",{ref:"titleForm",attrs:{id:"title_box","lazy-validation":""},model:{value:t.validTitleSearchBox,callback:function(e){t.validTitleSearchBox=e},expression:"validTitleSearchBox"}},[o("v-text-field",{attrs:{flat:"",label:"Search From Title",roles:t.searchFormRules,required:"","append-outer-icon":"search"},on:{click:function(e){return t.scrollBox("title_box")},"click:append-outer":function(e){return t.searchTitle()}},model:{value:t.inputTitleForSearch,callback:function(e){t.inputTitleForSearch=e},expression:"inputTitleForSearch"}})],1),o("v-form",{ref:"authorForm",attrs:{id:"author_box","lazy-validation":""},model:{value:t.validAuthorSearchBox,callback:function(e){t.validAuthorSearchBox=e},expression:"validAuthorSearchBox"}},[o("v-text-field",{attrs:{flat:"",label:"Search From Author",roles:t.searchFormRules,required:"","append-outer-icon":"search"},on:{click:function(e){return t.scrollBox("author_box")},"click:append-outer":function(e){return t.searchAuthor()}},model:{value:t.inputAuthorForSearch,callback:function(e){t.inputAuthorForSearch=e},expression:"inputAuthorForSearch"}})],1)],1)],1),o("v-layout",{attrs:{row:"",wrap:"","justify-start":""}},[t.isSearchLoading?o("div",{staticStyle:{margin:"auto"}},[o("div",{staticStyle:{display:"inline-block","padding-right":"15px"}},[t._v("loading...")]),o("div",{staticClass:"loading loading-content"},[o("v-icon",{attrs:{large:""}},[t._v("fa-book")])],1)]):t._l(t.getSearchResult,function(e){return o("v-flex",{staticClass:"pa-2",attrs:{lg4:"",md6:"",sm12:"",xs12:""}},[o("v-card",{staticClass:"black--text",staticStyle:{cursor:"pointer"},attrs:{color:"white"},on:{click:function(o){return t.selectBook(e)}}},[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"ma-1",staticStyle:{width:"100%",float:"left","font-size":"1.2em"}},[t._v(t._s(e.title))]),o("div",{staticClass:"ma-1",staticStyle:{width:"100%",float:"left"}},[t._v(t._s(e.author))]),o("div",{staticClass:"ma-1",staticStyle:{width:"100%",float:"left"}},[t._v(t._s(e.publisherName)+" / ￥ "+t._s(e.itemPrice))]),e.isChecked?o("v-btn",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{icon:"",fab:"",dark:"",color:"blue",small:""}},[o("v-icon",{attrs:{small:"",dark:""}},[t._v("done")])],1):t._e()],1),o("v-flex",{staticStyle:{"max-height":"128px"},attrs:{xs4:""}},[o("img",{staticStyle:{float:"right"},attrs:{src:e.mediumImageUrl,height:"128px;"}})])],1)],1)],1)})],2),0!==t.getSearchResult.length?o("v-layout",{attrs:{row:"",nowrap:"","justify-center":""}},[o("v-flex",{staticClass:"mt-2 mb-4 text-xs-center",attrs:{md12:""}},[o("v-pagination",{attrs:{length:t.totalCount,color:"#1e90ff"},on:{input:function(e){return t.pagenaite()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1):t._e(),o("v-layout",[0!==t.getSearchResult.length&&0!==t.selectMultiBooks.length?o("v-btn",{attrs:{fab:"",bottom:"",right:"",color:"blue",dark:"",fixed:"",loading:t.isSaving},on:{click:t.createBookMultiple}},[o("v-icon",[t._v("add")])],1):t._e()],1)],1)},St=[],wt=5,Bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.validTitleSearchBox=!0,e.validAuthorSearchBox=!0,e.searchResult=null,e.searchResultWithCheck=[],e.isSearchLoading=!1,e.inputTitleForSearch="",e.inputAuthorForSearch="",e.searchType="title",e.page=1,e.perPage=16,e.totalCount=1,e.isSaving=!1,e.selectMultiBooks=[],e.authors=[],e.publishers=[],e.searchFormRules=[function(t){return!!t||"required"}],e}return d["__extends"](e,t),e.prototype.select=function(t){},e.prototype.mounted=function(){It()},e.prototype.searchTitle=function(){var t=this;this.validateTitleInput()&&0!==this.inputTitleForSearch.length&&(It(),this.isSearchLoading=!0,this.searchType="title",k.rakuten.searchByTitle(this.inputTitleForSearch,this.page,this.perPage).then(function(e){t.searchResult=e.data,t.totalCount=t.searchResult.pageCount,t.searchResultWithCheck=t.searchResult.Items.map(function(e){return t.itemToResultWithCheck(e.Item)}),t.isSearchLoading=!1}).catch(function(){}))},e.prototype.searchAuthor=function(){var t=this;this.validateAuthorInput()&&0!==this.inputAuthorForSearch.length&&(It(),this.isSearchLoading=!0,this.searchType="author",k.rakuten.searchByAuthor(this.inputAuthorForSearch,this.page,this.perPage).then(function(e){t.searchResult=e.data,t.totalCount=t.searchResult.pageCount,t.searchResultWithCheck=t.searchResult.Items.map(function(e){return t.itemToResultWithCheck(e.Item)}),t.isSearchLoading=!1}).catch(function(){}))},e.prototype.itemToResultWithCheck=function(t){return{isbn:t.isbn,title:t.title,author:t.author,smallImageUrl:t.smallImageUrl,mediumImageUrl:t.mediumImageUrl,publisherName:t.publisherName,itemPrice:t.itemPrice,itemUrl:t.itemUrl,affiliateUrl:t.affiliateUrl,isChecked:this.isSelect(t.isbn)}},e.prototype.validateTitleInput=function(){return this.$refs.authorForm.validate()},e.prototype.validateAuthorInput=function(){return this.$refs.titleForm.validate()},Object.defineProperty(e.prototype,"getSearchResult",{get:function(){return this.searchResultWithCheck},enumerable:!0,configurable:!0}),e.prototype.pagenaite=function(){"title"===this.searchType?this.searchTitle():"author"===this.searchType?this.searchAuthor():console.log("bad search type")},e.prototype.selectBook=function(t){if(t.isChecked){t.isChecked=!1;var e=this.selectMultiBooks.indexOf(t);this.selectMultiBooks.splice(e,1)}else this.selectMultiBooks.length<wt?(t.isChecked=!0,this.selectMultiBooks.push(t)):alert("一括で登録できる数は"+wt+"個までです。")},e.prototype.isSelect=function(t){var e=!1;return this.selectMultiBooks.forEach(function(o){o.isbn===t&&(e=!0)}),e},e.prototype.getAuthorIDByName=function(t){var e=-1;return this.authors.forEach(function(o){t===o.name&&(e=o.id)}),e},e.prototype.getPublisherIDByName=function(t){var e=-1;return this.publishers.forEach(function(o){t===o.name&&(e=o.id)}),e},e.prototype.createAuthorP=function(){var t=this,e=[],o=[];return new Promise(function(n,a){k.author.getCounted().then(function(n){t.authors=n.data.content,t.selectMultiBooks.forEach(function(n){if(""!==n.author){var a=t.getAuthorIDByName(n.author);-1===a?o.includes(n.author)||o.push(n.author):e.push(a)}}),console.log(o);var a=o.map(function(t){return k.author.create({author_name:t})});return Promise.all(a)}).then(function(t){t.forEach(function(t){var o=t.data.content;e.push(o.id)}),n(e)}).catch(function(){console.log("create author error"),a()})})},e.prototype.createPublisherP=function(){var t=this,e=[],o=[];return new Promise(function(n,a){k.publisher.getCounted().then(function(n){t.publishers=n.data.content,t.selectMultiBooks.forEach(function(n){if(""!==n.publisherName){var a=t.getPublisherIDByName(n.publisherName);-1===a?o.includes(n.publisherName)||o.push(n.publisherName):e.push(a)}});var a=o.map(function(t){return k.publisher.create({publisher_name:t})});return Promise.all(a)}).then(function(t){t.forEach(function(t){var o=t.data.content;e.push(o.id)}),n(e)}).catch(function(){console.log("create publisher error"),a()})})},e.prototype.createBook=function(t){var e=this.getAuthorIDByName(t.author),o=this.getPublisherIDByName(t.publisherName),n={isbn:t.isbn,title:t.title,author_id:-1===e?null:e,publisher_Id:-1===o?null:o,medium_image_url:t.mediumImageUrl,small_image_url:t.smallImageUrl,item_url:t.itemUrl,affiliate_url:t.affiliateUrl};return k.books.create(n)},e.prototype.createBookMultiple=function(){var t=this;this.isSaving=!0,Promise.all([this.createAuthorP(),this.createPublisherP()]).then(function(){return Promise.all([k.author.getCounted(),k.publisher.getCounted()])}).then(function(e){t.authors=e[0].data.content,t.publishers=e[1].data.content;var o=t.selectMultiBooks.map(function(e){return t.createBook(e)});return Promise.all(o)}).then(function(){t.isSaving=!1,t.$router.push("/bookshelf")}).catch(function(){console.log("create error"),localStorage.clear(),t.$router.push("/login")}).finally(function(){})},e.prototype.scrollBox=function(t){},d["__decorate"]([Object(p["b"])()],e.prototype,"select",null),e=d["__decorate"]([p["a"]],e),e}(p["d"]),Ct=Bt;function It(){window.scrollTo(0,0)}var Pt,At=Ct,Dt=(o("0cf8"),Object(i["a"])(At,jt,St,!1,null,"76cc1512",null)),Ot=Dt.exports;(function(t){t[t["web"]=0]="web",t[t["input"]=1]="input"})(Pt||(Pt={}));var Nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bookName="",e.authorName="",e.smallBookImage="",e.mediumBookImage="",e.publisherName="",e.validInputForm=!0,e.authors=[],e.publishers=[],e.isFirstFocusTitle=!1,e.isFirstFocusCategory=!1,e.isSaving=!1,e.tabObject=[{tag:Pt.web,displayName:"Web検索から登録"},{tag:Pt.input,displayName:"入力して登録"}],e.selectTab=Pt.web,e.isSearchWeb=!0,e.inputTitleForSarch="",e.inputAuthorForSarch="",e}return d["__extends"](e,t),e.prototype.mounted=function(){window.scrollTo(0,0),this.authors=[],this.publishers=[],this.loadAuthors(),this.loadPublishers()},e.prototype.loadAuthors=function(){var t=this;k.author.getCounted().then(function(e){t.authors=e.data.content}).finally(function(){}).catch(function(){console.log("load author error")})},e.prototype.loadPublishers=function(){var t=this;k.publisher.getCounted().then(function(e){t.publishers=e.data.content}).finally(function(){}).catch(function(){console.log("load publisher error")})},Object.defineProperty(e.prototype,"getAuthors",{get:function(){var t=[];return this.authors.forEach(function(e){e.count>3&&t.push(e.name)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getPublishers",{get:function(){var t=[];return this.publishers.forEach(function(e){e.count>3&&t.push(e.name)}),t},enumerable:!0,configurable:!0}),e.prototype.getAuthorIDByName=function(t,e){var o=-1;return t.forEach(function(t){e===t.name&&(o=t.id)}),o},e.prototype.getPublisherIDByName=function(t,e){var o=-1;return t.forEach(function(t){e===t.name&&(o=t.id)}),o},e.prototype.setFirstFocus=function(){this.isFirstFocusTitle=!0,this.isFirstFocusCategory=!0},e.prototype.getAuthorIdP=function(t){var e=this;return k.author.getCounted().then(function(t){return new Promise(function(e){e(t.data.content)})}).then(function(o){return new Promise(function(n){n(e.getAuthorIDByName(o,t))})}).then(function(o){return new Promise(function(n){if(0===e.authorName.length)n(-2);else if(-1===o){var a={author_name:t};k.author.create(a).then(function(t){var e=t.data.content;n(e.id)})}else n(o)})})},e.prototype.getPublisherIdP=function(t){var e=this;return k.publisher.getCounted().then(function(t){return new Promise(function(e){e(t.data.content)})}).then(function(o){return new Promise(function(n){n(e.getPublisherIDByName(o,t))})}).then(function(o){return new Promise(function(n){if(0===e.publisherName.length)n(-2);else if(-1===o){var a={publisher_name:t};k.publisher.create(a).then(function(t){var e=t.data.content;n(e.id)})}else n(o)})})},e.prototype.createBookWithDetail=function(){var t=this;if(this.validateInput()&&this.tmpValidateInput()){var e=this.getAuthorIdP(this.authorName),o=this.getPublisherIdP(this.publisherName);Promise.all([e,o]).then(function(e){var o=-2===e[0]?null:e[0],n=-2===e[1]?null:e[1];-1!==o&&-1!==n?t.createBook(o,n):console.log("create author or publisher error")}).catch(function(){console.log("create author/publisher error")})}},e.prototype.createBook=function(t,e){var o=this,n={title:this.bookName,author_id:t,publisher_Id:e,medium_image_url:this.mediumBookImage,small_image_url:this.smallBookImage};k.books.create(n).then(function(t){o.$router.push("/bookshelf")}).catch(function(){console.log("book create error")})},e.prototype.closeRegister=function(){if(this.bookName.length>0&&this.authorName.length>0){var t=confirm("このページを離れてよろしいですか。変更は保存されません。");t&&this.$router.push("/bookshelf")}else this.$router.push("/bookshelf")},e.prototype.validateInput=function(){return this.$refs.form.validate()},e.prototype.tmpValidateInput=function(){return 0!==this.bookName.length},e.prototype.changeTab=function(t){t===Pt.web?this.isSearchWeb=!0:t===Pt.input&&(this.isSearchWeb=!1)},e.prototype.searchSelect=function(t){this.selectTab=Pt.input,this.bookName=t.title,this.authorName=t.author,this.smallBookImage=t.smallImageUrl,this.mediumBookImage=t.mediumImageUrl,this.publisherName=t.publisherName,this.isSearchWeb=!1},e=d["__decorate"]([Object(p["a"])({components:{SearchComponent:Ot,"v-footer":Y}})],e),e}(p["d"]),Tt=Nt,Ft=Tt,Et=Object(i["a"])(Ft,_t,xt,!1,null,"47d3c884",null),Mt=Et.exports,Lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticStyle:{"min-height":"85vh"}},[o("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:"","justify-space-around":""}},[o("v-flex",{staticClass:"ma-2",attrs:{xs12:"",md5:""}},[o("v-card",{staticClass:"black--text",attrs:{color:"white"}},[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs9:""}},[o("v-card-title",{attrs:{"primary-title":""}},[t.isOpen?t._e():o("div",[o("div",{staticStyle:{"font-size":"1.5em"}},[t._v(t._s(t.bookName))]),o("div",[t._v(t._s(t.authorNameForShow)+" ")]),o("div",[t._v(t._s(t.publisherNameForShow)+" ")])]),t.isOpen?o("div",[o("div",{staticClass:"pt-1",staticStyle:{width:"100%"}},[o("v-btn",{staticClass:"ma-0",attrs:{outline:"",small:"",color:"error"},on:{click:function(e){return t.deleteBook()}}},[t._v("\n                                            本の削除"),o("v-icon",{attrs:{small:"",color:"red darken-2"}},[t._v("delete")])],1)],1)]):t._e(),t.isOpen||t.isLoadingBook?t._e():o("v-btn",{staticStyle:{position:"absolute",top:"80px",right:"85px"},attrs:{icon:"",fab:"",dark:"",color:"blue",small:""},on:{click:function(e){t.isOpen=!t.isOpen}}},[o("v-icon",{attrs:{small:"",dark:""}},[t._v("edit")])],1),!t.isOpen&&t.isLoadingBook?o("v-btn",{staticStyle:{position:"absolute",top:"80px",right:"85px"},attrs:{icon:"",fab:"",color:"blue",small:"",disabled:""}},[o("v-icon",{attrs:{small:"",dark:""}},[t._v("edit")])],1):t._e(),t.isOpen&&!t.isLoadingBook?o("v-btn",{staticStyle:{position:"absolute",top:"80px",right:"85px"},attrs:{icon:"",fab:"",dark:"",color:"blue",small:""},on:{click:function(e){t.isOpen=!t.isOpen}}},[o("v-icon",{attrs:{small:"",dark:""}},[t._v("done")])],1):t._e()],1)],1),o("v-flex",{staticStyle:{height:"128px"},attrs:{xs3:""}},[null!=t.bookImage&&""!==t.bookImage?o("div",[o("a",{attrs:{href:t.bookDetail.affiliate_url,target:"_blank"}},[o("img",{staticStyle:{float:"right"},attrs:{src:t.bookImage,height:"128px",alt:"bookImage"}})])]):t._e()])],1),o("v-divider",{attrs:{light:""}}),o("v-layout",{attrs:{column:""}},[o("v-layout",{staticClass:"pl-3 pt-2 pb-2 pr-3",attrs:{nowrap:"","align-content-end":""}},[o("v-btn",{staticClass:"ma-0",attrs:{flat:"",icon:"",color:"dark",loading:t.isLoadingBookState},on:{click:function(e){return t.changeState(t.startAt,t.endAt)}}},[o("v-icon",{attrs:{large:"",color:"blue-grey darken-1"}},[t._v(" "+t._s(t.bookState(t.startAt,t.endAt).icon)+"\n                                ")])],1),o("div",{staticClass:"pa-2"},[t._v(t._s(t.bookState(t.startAt,t.endAt).label)+" ")]),o("v-spacer"),o("div",{staticClass:"pa-2",staticStyle:{color:"gray"}},[t._v(t._s(t.startAtFormatted)+" 〜 "+t._s(t.endAtFormatted))])],1)],1)],1)],1),o("BookDescription",{attrs:{bookID:t.bookID}})],1)],1)},zt=[],Rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-flex",{staticClass:"ma-3",attrs:{xs12:"",md6:""}},[o("h3",[t._v("\n        コメント\n        "),o("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){t.isOpenTextfield=!t.isOpenTextfield}}},[o("v-icon",{attrs:{color:"blue-grey darken-3"}},[t._v("add_comment")])],1)],1),t.isOpenTextfield?o("div",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.descriptionValid,callback:function(e){t.descriptionValid=e},expression:"descriptionValid"}},[o("v-textarea",{attrs:{outline:"",rows:"3",label:"comment","auto-grow":"",value:"","single-line":"",counter:"140",maxlength:"140",rules:t.descriptionRules},model:{value:t.inputDescription,callback:function(e){t.inputDescription=e},expression:"inputDescription"}}),o("div",{staticStyle:{display:"flex"}},[o("v-spacer"),o("v-btn",{staticClass:"ma-0",attrs:{outline:"",small:"",color:"info",loading:t.isSending,disabled:t.isSending},on:{click:function(e){return t.send()}}},[t._v("SEND\n                    "),o("v-icon",{staticClass:"ml-2",attrs:{small:"",color:"blue"}},[t._v("send")])],1)],1)],1)],1):t._e(),o("div",[t.isLoading?o("div",{staticStyle:{margin:"auto"}},[o("div",{staticStyle:{display:"inline-block","padding-right":"15px"}},[t._v("loading...")]),o("div",{staticClass:"loading loading-content"},[o("v-icon",[t._v("fa-book")])],1)]):t._e(),t.isLoading||0!==t.getDescriptions.length?o("div",{class:{scroll_description:!t.$vuetify.breakpoint.xs}},t._l(t.getDescriptions,function(e){return o("div",{staticClass:" pa-3"},[o("div",{staticClass:"ma-2",staticStyle:{"word-wrap":"break-word"}},[t._v(t._s(e.content))]),o("v-layout",[o("div",{staticClass:"ma-2 mr-5",staticStyle:{color:"dimgray","font-size":"0.8em"}},[t._v(t._s(t.createdAtFormatted(e.created_at)))]),o("v-spacer"),o("v-btn",{attrs:{color:"dark",flat:"",icon:"",small:""},on:{click:function(t){return delete e.id}}},[o("v-icon",{attrs:{small:"",color:"red darken-2"}},[t._v("delete")])],1)],1),o("v-divider")],1)}),0):o("div",{staticStyle:{margin:"auto",padding:"20px"}},[t._v("\n            本のコメントを追加しましょう\n        ")])])])},$t=[],qt=o("c1df"),Ut=o.n(qt),Wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.descriptions=[],e.isLoading=!1,e.descriptionValid=!1,e.isOpenTextfield=!1,e.isSending=!1,e.inputDescription="",e.descriptionRules=[function(t){return(t||"").length>0||"Description is required"},function(t){return(t||"").length<=140||"A maximum of 140 characters is allowed"}],e}return d["__extends"](e,t),Object.defineProperty(e.prototype,"getDescriptions",{get:function(){return this.descriptions},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){this.load()},e.prototype.load=function(){var t=this;null!=this.bookID&&(this.isLoading=!0,k.description.get(this.bookID).then(function(e){t.descriptions=[],t.descriptions=e.data.content}).catch(function(){console.log("book detail view: description get error")}).finally(function(){t.isLoading=!1}))},e.prototype.createdAtFormatted=function(t){return Gt(t)},e.prototype.delete=function(t){var e=this,o=confirm("削除しますか?");o&&k.description.delete(t).then(function(t){e.load()}).catch(function(){console.log("delete description error")})},e.prototype.send=function(){var t=this;if(null!=this.bookID&&this.$refs.form.validate()){var e={book_id:this.bookID,content:this.inputDescription};this.isSending=!0,k.description.create(this.bookID,e).then(function(e){t.isOpenTextfield=!1,t.inputDescription="",t.load()}).catch(function(){console.log("send description error")}).finally(function(){t.isSending=!1})}},d["__decorate"]([Object(p["c"])()],e.prototype,"bookID",void 0),e=d["__decorate"]([p["a"]],e),e}(p["d"]),Kt=Wt;function Gt(t){if(null!=t){var e=Ut()(t);return e.format("YYYY")+"/"+e.format("MM")+"/"+e.format("DD")+" "+e.format("HH")+":"+e.format("mm")}return"----/--/-- --:--"}var Vt=Kt,Yt=(o("ea02"),Object(i["a"])(Vt,Rt,$t,!1,null,"cedeaca4",null)),Ht=Yt.exports,Jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.book=null,e.bookMount=null,e.bookDetail=null,e.authors=[],e.isOpen=!1,e.isLoadingBook=!1,e.isLoadingBookState=!1,e.validEditBox=!1,e.rules={counter12:function(t){return t.length<=12||"Max 12 characters"},counter15:function(t){return t.length<=15||"Max 15 characters"}},e}return d["__extends"](e,t),e.prototype.mounted=function(){var t=this;this.bookMount=null,this.loadAuthors(),this.loadBookDetail().then(function(){return t.isLoadingBook=!1})},e.prototype.loadBookDetail=function(){var t=this;return new Promise(function(e,o){t.isLoadingBook=!0,k.book.get(t.bookID).then(function(e){t.book=e.data.content}).then(function(){if(null==t.book)return o(!1);t.bookMount={id:t.book.id,title:t.book.title,author:t.book.author,publishedAt:t.book.publishedAt,accountId:t.book.accountId,publisher:t.book.publisher,start_at:t.book.start_at,end_at:t.book.end_at,nextBookId:t.book.nextBookId,prevBookId:t.book.prevBookId,medium_image_url:t.book.medium_image_url,small_image_url:t.book.small_image_url,item_url:t.book.item_url,affiliate_url:t.book.affiliate_url,created_at:t.book.created_at,updated_at:t.book.updated_at,isOpen:!1},t.copyValue(),e(!0)}).catch(function(){console.log("error")}).finally(function(){t.isLoadingBook=!1})})},e.prototype.loadAuthors=function(){var t=this;return new Promise(function(e,o){k.author.getCounted().then(function(o){t.authors=o.data.content,e(!0)}).catch(function(){console.log("load author error"),o(!1)})})},Object.defineProperty(e.prototype,"bookID",{get:function(){return parseInt(this.$route.params.bookId,10)},enumerable:!0,configurable:!0}),e.prototype.copyValue=function(){null!=this.bookMount&&(null!=this.bookMount.author&&{id:this.bookMount.author.id,name:this.bookMount.author.name},this.bookDetail=d["__assign"]({},this.bookMount))},Object.defineProperty(e.prototype,"bookName",{get:function(){return null!=this.bookDetail?this.bookDetail.title:"Title not set"},set:function(t){null!=this.bookMount&&(this.bookMount.title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorNameForShow",{get:function(){return null!=this.bookDetail&&null!=this.bookDetail.author?this.bookDetail.author.name:"Author not set"},set:function(t){var e={id:0,name:t};null!=this.bookDetail&&(this.bookDetail.author=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorNameForUpdate",{get:function(){return null!=this.bookMount&&null!=this.bookMount.author?this.bookMount.author.name:"Author not set"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"publisherNameForShow",{get:function(){return null!=this.bookDetail&&null!=this.bookDetail.publisher?this.bookDetail.publisher.name:"Publisher not set"},set:function(t){var e={id:0,name:t};null!=this.bookDetail&&(this.bookDetail.publisher=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"publisherNameForUpdate",{get:function(){return null!=this.bookMount&&null!=this.bookMount.publisher?this.bookMount.publisher.name:"Publisher not set"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAtFormatted",{get:function(){return null!=this.bookDetail?Xt(this.bookDetail.start_at):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAtFormatted",{get:function(){return null!=this.bookDetail?Xt(this.bookDetail.end_at):"----/--/--"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bookImage",{get:function(){return null!=this.bookDetail?this.bookDetail.medium_image_url:null},enumerable:!0,configurable:!0}),e.prototype.isBookChanged=function(){return null!=this.bookMount&&null!=this.bookDetail&&this.bookMount.title!==this.bookDetail.title},e.prototype.isAuthorChanged=function(){return null!=this.bookMount&&null!=this.bookDetail&&null!=this.bookMount.author&&this.authorNameForShow!==this.authorNameForUpdate},e.prototype.updateBookWithDetail=function(){var t=this;if(this.validateInput()&&null!=this.bookMount&&(this.isOpen=!1,this.isBookChanged()||this.isAuthorChanged())){var e=this.getAuthorIDByName(this.authorNameForUpdate);if(0===e){var o={author_name:this.authorNameForUpdate};k.author.create(o).then(function(e){var o=e.data.content;t.updateBook(o.id)}).catch(function(){console.log("author create error")})}else this.updateBook(e)}},e.prototype.updateBook=function(t){var e=this;if(null!=this.bookMount){var o={id:this.bookMount.id,title:this.bookMount.title,author_id:t};k.books.update(o).then(function(t){e.bookMount=null}).then(function(){return e.loadBookDetail()}).then(function(){return e.isLoadingBook=!1}).then(function(){return e.loadAuthors()}).catch(function(){console.log("book create error")})}},Object.defineProperty(e.prototype,"getAuthors",{get:function(){var t=[];return this.authors.forEach(function(e){e.count>3&&t.push(e.name)}),t},enumerable:!0,configurable:!0}),e.prototype.getAuthorIDByName=function(t){var e=0;return this.authors.forEach(function(o){t===o.name&&(e=o.id)}),e},Object.defineProperty(e.prototype,"startAt",{get:function(){return null==this.bookDetail?null:this.bookDetail.start_at},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAt",{get:function(){return null==this.bookDetail?null:this.bookDetail.end_at},enumerable:!0,configurable:!0}),e.prototype.changeState=function(t,e){var o=this;if(null==e&&null==t){var n=confirm("読み始めた本に設定しますか？");this.isLoadingBookState=!0,n&&null!=this.bookDetail&&k.book.startRead(this.bookDetail.id).then(function(){return o.loadBookDetail()}).then(function(){o.isLoadingBook=!1,o.isLoadingBookState=!1}).catch(function(){})}else if(null==e){n=confirm("読み終わった本に設定しますか？");this.isLoadingBookState=!0,n&&null!=this.bookDetail&&k.book.endRead(this.bookDetail.id).then(function(){return o.loadBookDetail()}).then(function(){o.isLoadingBook=!1,o.isLoadingBookState=!1}).catch(function(){})}else{n=confirm("読み始めた本に設定しますか？");this.isLoadingBookState=!0,n&&null!=this.bookDetail&&k.book.startRead(this.bookDetail.id).then(function(){return o.loadBookDetail()}).then(function(){o.isLoadingBook=!1,o.isLoadingBookState=!1}).catch(function(){})}},e.prototype.bookState=function(t,e){return null==e&&null==t?{icon:"fa-book",label:"未読"}:null==e?{icon:"bookmark",label:"読中"}:{icon:"done",label:"読了"}},e.prototype.validateInput=function(){return this.$refs.form.validate()},e.prototype.deleteBook=function(){var t=this,e=confirm("関連するコメントも全て削除されます。本を削除しますか?");e&&null!=this.bookDetail&&k.book.delete(this.bookDetail.id).then(function(e){t.$router.push("/bookshelf")}).catch(function(){console.log("delete book error")})},e=d["__decorate"]([Object(p["a"])({components:{BookDescription:Ht}})],e),e}(p["d"]),Qt=Jt;function Xt(t){if(null!=t){var e=Ut()(t);return e.format("YYYY")+"/"+e.format("MM")+"/"+e.format("DD")}return"----/--/--"}var Zt=Qt,te=(o("a72e"),Object(i["a"])(Zt,Lt,zt,!1,null,"b4169966",null)),ee=te.exports,oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"header"},[o("div",{staticStyle:{margin:"auto","margin-left":"13.5px","font-weight":"400"}},[o("router-link",{staticClass:"title",attrs:{to:{name:"booksView"}}},[t._v(t._s(t.title))])],1),o("v-spacer")],1),t._m(0)])},ne=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{margin:"20px",padding:"20px",position:"absolute",top:"50px"}},[o("div",{staticStyle:{"font-size":"2em"}},[t._v("プライバシーポリシー")]),o("div",{staticStyle:{margin:"10px"}},[o("h3",[t._v("本アプリについて")]),o("p",[t._v("本プライバシーポリシーは、BookStorage（以下、「本アプリ」とします。)の各種サービスにおいて、\n                本アプリの訪問者（以下、「訪問者」とします。）の個人情報もしくはそれに準ずる情報を取り扱う際に、\n                本アプリが遵守する方針を示したものです。")]),o("h3",[t._v("基本方針")]),o("p",[t._v("本アプリは、個人情報の重要性を認識し、個人情報を保護することが社会的責務であると考え、\n                個人情報に関する法令を遵守し、本アプリで取扱う個人情報の取得、利用、管理を適正に行います。\n                本アプリで収集した情報は、利用目的の範囲内で適切に取り扱います。")]),o("h3",[t._v("適用範囲")]),o("p",[t._v("本プライバシーポリシーは、本アプリにおいてのみ適用されます。")]),o("h3",[t._v("個人情報の利用目的")]),o("p",[t._v("本アプリ利用には、メールアドレス等の個人情報をご登録いただく必要があります。\n                これらの個人情報は、本アプリのサービス提供・運用のために利用され、それ以外の目的では利用しません。")]),o("h3",[t._v("個人情報の第三者への開示")]),o("p",[t._v("個人情報は適切に管理し、以下に該当する場合を除いて第三者に開示することはありません。")]),o("ul",[o("li",[t._v("本人のご了解がある場合")]),o("li",[t._v("法令等への協力のため、開示が必要となる場合")])]),o("p"),o("h3",[t._v("個人情報の開示・訂正・追加・削除・利用停止")]),o("p",[t._v("個人情報の開示・訂正・追加・削除・利用停止をご希望の場合には、\n                ご本人であることを確認したうえで、速やかに対応致します。")]),o("h3",[t._v("アクセス解析ツールについて")]),o("p",[t._v("本アプリでは、Googleによるアクセス解析ツール「Googleアナリティクス」を利用しています。\n                このGoogleアナリティクスはトラフィックデータの収集のためにCookieを使用しています。\n                このトラフィックデータは匿名で収集されており、個人を特定するものではありません。\n                この機能はCookieを無効にすることで収集を拒否することが出来ますので、\n                お使いのブラウザの設定をご確認ください。\n                この規約に関して、詳しくは\n                "),o("a",{attrs:{href:"https://marketingplatform.google.com/about/analytics/terms/jp/",target:"_blank"}},[t._v("\n                    ここをクリック\n                ")]),t._v("\n                してください。")]),o("h3",[t._v("免責事項")]),o("p",[t._v("上記の提携サービスおよびシステム障害により生じる損害について、\n                本アプリ管理者は責任を負わないものとします。\n                当サイトで掲載している画像や動画の著作権・肖像権等は各権利所有者に帰属致します。")]),o("h3",[t._v("プライバシーポリシーの改定について")]),o("p",[t._v("本アプリでは、プライバシーポリシーの全部または一部を告知なく改定することがあります。")]),o("h3",[t._v("問い合わせ")]),o("p",[t._v("連絡先: ------@gamil.com")]),o("div",[t._v("最終更新日: 2019年7月11日")])])])}],ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="BookStorage",e}return d["__extends"](e,t),e.prototype.mounted=function(){window.scrollTo(0,0)},e=d["__decorate"]([p["a"]],e),e}(p["d"]),re=ae,ie=re,se=(o("79df"),Object(i["a"])(ie,oe,ne,!1,null,"297c245e",null)),le=se.exports;n["default"].use(u["a"]);var ce=new u["a"]({mode:"history",base:"",routes:[{path:"/login",name:"loginViews",component:it},{path:"/",component:it},{path:"/signup",name:"signUpViews",component:dt},{path:"/reset_password",name:"resetPasswordViews",component:yt},{path:"/policy",name:"privacyPolicy",component:le},{path:"/bookshelf",component:Z,meta:{requiresAuth:!0},children:[{path:"/",name:"booksView",component:I},{path:":bookId",name:"bookDetail",component:ee},{path:"/register",name:"register",component:Mt}]},{path:"*",redirect:{name:"loginViews"}}]});ce.beforeEach(function(t,e,o){var n=t.matched.some(function(t){return t.meta.requiresAuth}),a=localStorage.getItem("token");n&&null==a?(console.log("token not hold"),localStorage.clear(),o({path:"/login"})):(console.log("success"),o())});var ue=ce,he=o("9483");Object(he["a"])("service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var fe=o("ecee"),de=o("c074"),pe=o("b702"),me=o("f2d1"),be=o("ad3d"),ve=o("ce5b"),ge=o.n(ve),ke={apiKey:"AIzaSyBh6MRgQ9i9L8rlrLxE3mKCiBQo4GS038A",authDomain:"bookshelf-239408.firebaseapp.com",databaseURL:"https://bookshelf-239408.firebaseio.com",projectId:"bookshelf-239408",storageBucket:"bookshelf-239408.appspot.com",messagingSenderId:"489604966508"};fe["c"].add(de["a"],pe["a"],me["a"]),n["default"].component("v-fa",be["a"]),n["default"].use(ge.a),E.a.initializeApp(ke),n["default"].config.productionTip=!1,new n["default"]({router:ue,store:T,render:function(t){return t(c)}}).$mount("#app")},e426:function(t,e,o){},ea02:function(t,e,o){"use strict";var n=o("9f1e"),a=o.n(n);a.a},f146:function(t,e,o){"use strict";var n=o("7bbd"),a=o.n(n);a.a},f6ff:function(t,e,o){}});
//# sourceMappingURL=app.78dbe557.js.map